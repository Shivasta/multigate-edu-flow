{% extends "base.html" %}

{% block title %}Approved Applications - MEF Portal{% endblock %}

{% block content %}
<div class="container">
    <h1>Approved Applications</h1>

    {% if approved_requests %}
    <div class="requests-grid">
        {% for req in approved_requests %}
        <div class="request-card approved">
            <div class="request-header">
                <h3>{{ req[2] }}</h3>
                <span class="status approved">Approved</span>
            </div>
            <div class="request-details">
                <p><strong>Duration:</strong> {{ req[4] }} to {{ req[5] }}</p>
                <p><strong>Reason:</strong> {{ req[3] }}</p>
                <p><strong>Approved on:</strong> {{ req[10] if req[10] else 'N/A' }}</p>
            </div>
            <div class="request-actions">
                <a href="{{ url_for('requests.approved', req_id=req[0]) }}" class="btn btn-primary">View Details</a>
                <a href="{{ url_for('download_approved', req_id=req[0]) }}"
                    class="btn btn-success">Download PDF</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="no-requests">
        <p>No approved applications found.</p>
        <a href="{{ url_for('unified_request', type='leave') }}" class="btn btn-primary">Submit New Request</a>
    </div>
    {% endif %}
</div>
{% endblock %}
